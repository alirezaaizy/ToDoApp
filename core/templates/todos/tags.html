{% extends "base.html" %}
{% block title %}مدیریت تگ‌ها{% endblock %}

{% block content %}
<div class="grid md:grid-cols-3 gap-6">
  <!-- Create -->
  <div class="bg-white rounded-2xl shadow p-6 space-y-4">
    <h2 class="text-lg font-bold">تگ جدید</h2>
    <form method="post">
      {% csrf_token %}
      {{ form.non_field_errors }}
      <div>
        <label class="block text-sm mb-1">{{ form.name.label }}</label>
        {{ form.name }}
        {% if form.name.errors %}<p class="text-xs text-rose-600 mt-1">{{ form.name.errors.0 }}</p>{% endif %}
      </div>
      <button class="mt-3 rounded-2xl bg-slate-900 text-white px-4 py-2">افزودن</button>
    </form>
  </div>

  <!-- List -->
  <div class="md:col-span-2 bg-white rounded-2xl shadow p-6">
    <h2 class="text-lg font-bold mb-4">تگ‌های من</h2>
    {% if object_list %}
      <ul class="divide-y">
        {% for tag in object_list %}
          <li class="py-3 flex items-center justify-between">
            <span class="font-medium">#{{ tag.name }}</span>
            <a href="{% url 'todos:tag_delete' tag.pk %}" class="text-sm rounded-xl border px-3 py-1.5 hover:bg-rose-50 text-rose-700 border-rose-200">حذف</a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-sm text-slate-500">هنوز تگی ساخته نشده.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
